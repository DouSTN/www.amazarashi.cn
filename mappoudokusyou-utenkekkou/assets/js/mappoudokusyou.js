"use strict";

// setting
var breakPointSp = 800;
var mql = window.matchMedia("screen and (min-width: ".concat(breakPointSp + 1, "px)"));
mql.addListener(handleMediaQuery); // 画面サイズ取得

var winWidth = window.innerWidth;
var winHeight = window.innerHeight;
var pcFlg;
var $body = $('body');
$(function () {
  domContentLoadEvent();
});
$(window).on('load', function () {
  initLoadEvent();
});
$(window).on('scroll load', function () {
  Win.scroll.top = $(window).scrollTop();
  Parallax.config.$item.each(function (index, val) {
    var _elmH = $(val).offset().top;

    var _diff = (_elmH - Win.scroll.top) * 0.1;

    if (!pcFlg) {
      _diff = (_elmH - Win.scroll.top) * 0.05;
    }

    if (index % 2 === 0) {
      _diff = -_diff;
    }

    $(val).css({
      'transform': "translate3d(0, ".concat(_diff, "px, 0)")
    });
  });
});
$(window).on('resize', function () {
  if (winWidth !== window.innerWidth) {
    $('.p-hero').css({
      'height': "".concat(innerHeight, "px")
    });
  }

  Bg.movie.setWidth();
  updateSize();
}); // html読み込み完了後に実行

function domContentLoadEvent() {
  handleMediaQuery(mql);
  $body = $('body');
  updateSize();
  Bg.movie.init();
  $('.p-hero').css({
    'height': "".concat(innerHeight, "px")
  });
  setTimeout(function () {
    $body.addClass('is-ready');
  }, 50);
} // 全てのファイル読み込み完了後に実行


function initLoadEvent() {
  smoothScroll(0, 650, 'easeOutCubic');
  setScrollEffect();
  textSplit('.js-split');
  $body.addClass('is-load');
}

function updateSize() {
  winWidth = window.innerWidth;
  winHeight = window.innerHeight;
} // メディアクエリに応じて実行したい処理


function handleMediaQuery(mql) {
  if (mql.matches) {
    pcFlg = true;
    Special.config.$cover.on({
      'mouseenter': function mouseenter() {
        $(this).parents('.p-special__list-item').addClass('is-link-open');
      },
      'mouseleave': function mouseleave() {
        $(this).parents('.p-special__list-item').removeClass('is-link-open');
      }
    });
  } else {
    pcFlg = false;
    Special.config.$thumb.on('click', function () {
      $(this).parents('.p-special__list-item').addClass('is-link-open');
    });
    Special.config.$close.on('click', function () {
      $(this).parents('.p-special__list-item').removeClass('is-link-open');
    });
  }
}

function getRandomInt(min, max) {
  return Math.floor(Math.random() * (max - min) + min);
}

var Win = {
  scroll: {
    top: null
  }
};
var Parallax = {
  config: {
    $item: $('.js-parallax')
  }
};
var Op = {
  duration: 5600,
  config: {
    $elm: $('.p-op')
  },
  scrollTop: function scrollTop() {
    setTimeout(function () {
      // Bg.movie.player.seekTo(229.5, true);
      scrollTo(0, 0);
      $body.css('overflow', 'hidden');
    }, 3100);
  },
  end: function end() {
    setTimeout(function () {
      $body.addClass('op-end');
    }, Op.duration);
  }
};

var Movie = {
  initialized: false,
  instance: undefined,
  activeIndex: 0,
  // swiper起動しなかった場合も値をとれるように
  options: {
    speed: 800,
    loop: true,
    loopAdditionalSlides: 3,
    spaceBetween: 78,
    slideToClickedSlide: true,
    autoplay: {
      delay: 5000,
      disableOnInteraction: false
    },
    breakpoints: {
      800: {
        spaceBetween: 20
      }
    }
  },
  youtube: {
    player: undefined,
    videoid: undefined,
    config: {
      $wrapper: $('.p-movie__inner'),
      $item: $('.p-movie__slide-item'),
      $thumbItem: $('.p-movie__bg-thumb .p-in-item')
    },
    init: function init() {
      var _this1 = this;

      _this1.getVideoId();

      _this1.player = new YT.Player('movie_player', {
        videoId: _this1.videoid,
        playerVars: {
          playsinline: 1,
          autoplay: 1,
          loop: 1,
          playlist: _this1.videoid,
          controls: 0,
          disablekb: 1,
          enablejsapi: 1,
          iv_load_policy: 3,
          rel: 0,
          start: 10
        },
        events: {
          'onReady': _this1.onPlayerReady,
          'onStateChange': _this1.onPlayerStateChange
        }
      });
    },
    onPlayerReady: function onPlayerReady(event) {
      event.target.mute();
      event.target.playVideo();
    },
    onPlayerStateChange: function onPlayerStateChange(e) {
      if (e.data === 1) {
        Movie.youtube.config.$wrapper.addClass('is-movie-playing');
      } else if (e.data === 2) {
        Movie.youtube.config.$wrapper.removeClass('is-movie-playing');
      }
    },
    getVideoId: function getVideoId() {
      var _this1 = this;

      _this1.videoid = _this1.config.$item.eq(Movie.activeIndex).data('modal').split('youtube:')[1];
    },
    changeMovide: function changeMovide() {
      this.getVideoId();
      this.player.loadVideoById(this.videoid, 10);
    },
    switchThumb: function switchThumb() {
      this.config.$thumbItem.removeClass('is-show').eq(Movie.activeIndex).addClass('is-show');
    }
  },
  init: function init() {
    this.initialized = true;
    Youtube_modal.init();

    if (this.youtube.config.$item.length > 1) {
      this.instance = new Swiper('.p-movie__slide-container', Movie.options);
      this.instance.on('slideChange', function () {
        Youtube_modal.instance.Update();
        Movie.activeIndex = Movie.instance.realIndex;
        Movie.youtube.changeMovide();
        Movie.youtube.switchThumb();
      });
      this.youtube.config.$wrapper.addClass('swiper-initialized');
    }

    Movie.youtube.init();
    Movie.youtube.switchThumb();
  }
};

var Special = {
  config: {
    $cover: $('.p-special__list-cover'),
    $thumb: $('.p-special__list-cover figure'),
    $close: $('.p-special__list-close')
  },
  attachEvent: function attachEvent() {
    var _this = this;

    if (pcFlg) {
      _this.config.$cover.on({
        'mouseenter': function mouseenter() {
          $(this).parents('.p-special__list-item').addClass('is-link-open');
        },
        'mouseleave': function mouseleave() {
          $(this).parents('.p-special__list-item').removeClass('is-link-open');
        }
      });
    } else {
      _this.config.$thumb.on('click', function () {
        $(this).parents('.p-special__list-item').addClass('is-link-open');
      });
    }

    _this.config.$close.on('click', function () {
      $(this).parents('.p-special__list-item').removeClass('is-link-open');
    });
  }
}; // text split

function textSplit(target) {
  var _target = document.querySelectorAll(target);

  var _nodes = [];

  for (var i = 0; i < _target.length; i++) {
    _nodes.push(_target[i].childNodes);
  }

  var _htmlList = [];

  for (var _i2 = 0; _i2 < _nodes.length; _i2++) {
    var _html = [];

    for (var index = 0; index < _nodes[_i2].length; index++) {
      if (_nodes[_i2][index].nodeType === 3) {
        var _text = _nodes[_i2][index].textContent;

        var _array = _text.split('');

        for (var _i = 0; _i < _array.length; _i++) {
          _html.push('<span>' + _array[_i] + '</span>');
        }
      } else {
        _html.push(_nodes[_i2][index].outerHTML);
      }
    }

    _htmlList.push(_html);
  }

  $(target).each(function (index, val) {
    $(this).html(_htmlList[index]);
  });
} // スムーススクロール


function smoothScroll(gap, duration, easing) {
  var urlHash = location.hash;

  if (urlHash) {
    $('body,html').stop().scrollTop(0);
    setTimeout(function () {
      var $_target = $(urlHash);
      var $_targetY = $_target.offset().top - gap;
      $('body,html').stop().animate({
        scrollTop: $_targetY
      }, duration, easing);
    }, 50);
  }

  $('a[href*="#"]').on('click', function () {
    var $_target = $(this.hash);
    if (!$_target.length) return;
    var $_targetY = $_target.offset().top - gap;
    $('html,body').animate({
      scrollTop: $_targetY
    }, duration, easing);
    return false;
  });
} // スクロール演出


var ScrollEffectModule;

function setScrollEffect() {
  ScrollEffectModule = new SCROLL_EFFECT_MODULE({
    elem: '.js-scroll',
    firstElem: '.js-scroll--first',
    displayRatio: 0.8,
    displayReverse: false,
    addClassNameActive: 'is-active',
    on: {
      In: function In(item, pos, obj, top) {
        if ($(item).hasClass('p-track') && Movie.initialized == false) {
          Movie.init();
        }
      }
    }
  });
} // let footerScrollEffec;
// function setFooterScrollEffect() {
//   footerScrollEffec = new SCROLL_EFFECT_MODULE({
//     elem: '.js-scroll-footer',
//     firstElem: '.js-scroll--first',
//     displayRatio: 0.99,
//     displayReverse: true,
//     addClassNameActive: 'is-active',
//   });
// }
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9qcy9tYXBwb3Vkb2t1c3lvdS5lcyJdLCJuYW1lcyI6WyJicmVha1BvaW50U3AiLCJtcWwiLCJ3aW5kb3ciLCJtYXRjaE1lZGlhIiwiYWRkTGlzdGVuZXIiLCJoYW5kbGVNZWRpYVF1ZXJ5Iiwid2luV2lkdGgiLCJpbm5lcldpZHRoIiwid2luSGVpZ2h0IiwiaW5uZXJIZWlnaHQiLCJwY0ZsZyIsIiRib2R5IiwiJCIsImRvbUNvbnRlbnRMb2FkRXZlbnQiLCJvbiIsImluaXRMb2FkRXZlbnQiLCJXaW4iLCJzY3JvbGwiLCJ0b3AiLCJzY3JvbGxUb3AiLCJQYXJhbGxheCIsImNvbmZpZyIsIiRpdGVtIiwiZWFjaCIsImluZGV4IiwidmFsIiwiX2VsbUgiLCJvZmZzZXQiLCJfZGlmZiIsImNzcyIsIkJnIiwibW92aWUiLCJzZXRXaWR0aCIsInVwZGF0ZVNpemUiLCJpbml0Iiwic2V0VGltZW91dCIsImFkZENsYXNzIiwic21vb3RoU2Nyb2xsIiwic2V0U2Nyb2xsRWZmZWN0IiwidGV4dFNwbGl0IiwibWF0Y2hlcyIsIlNwZWNpYWwiLCIkY292ZXIiLCJwYXJlbnRzIiwicmVtb3ZlQ2xhc3MiLCIkdGh1bWIiLCIkY2xvc2UiLCJnZXRSYW5kb21JbnQiLCJtaW4iLCJtYXgiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJPcCIsImR1cmF0aW9uIiwiJGVsbSIsInNjcm9sbFRvIiwiZW5kIiwicGxheWVyIiwidW5kZWZpbmVkIiwiY3VycmVudCIsInRpbWVyIiwidmlkZW9pZCIsInN0YXJ0X3NlYyIsImVuZF9zZWMiLCJfdGhpcyIsInRhZyIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsInNyYyIsImZpcnN0U2NyaXB0VGFnIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJwYXJlbnROb2RlIiwiaW5zZXJ0QmVmb3JlIiwib25Zb3VUdWJlSWZyYW1lQVBJUmVhZHkiLCJZVCIsIlBsYXllciIsInZpZGVvSWQiLCJwbGF5ZXJWYXJzIiwicGxheXNpbmxpbmUiLCJjb250cm9scyIsImRpc2FibGVrYiIsImVuYWJsZWpzYXBpIiwiaXZfbG9hZF9wb2xpY3kiLCJyZWwiLCJzdGFydCIsImV2ZW50cyIsIm9uUGxheWVyUmVhZHkiLCJvblBsYXllclN0YXRlQ2hhbmdlIiwiZXZlbnQiLCJ0YXJnZXQiLCJtdXRlIiwicGxheVZpZGVvIiwiZSIsImRhdGEiLCJQbGF5ZXJTdGF0ZSIsIlBMQVlJTkciLCJzZXRUaW1lciIsIndpZHRoIiwiZ2V0Q3VycmVudFRpbWUiLCJzZWVrVG8iLCJzZXRJbnRlcnZhbCIsIk1vdmllIiwiaW5pdGlhbGl6ZWQiLCJpbnN0YW5jZSIsImFjdGl2ZUluZGV4Iiwib3B0aW9ucyIsInNwZWVkIiwibG9vcCIsImxvb3BBZGRpdGlvbmFsU2xpZGVzIiwic3BhY2VCZXR3ZWVuIiwic2xpZGVUb0NsaWNrZWRTbGlkZSIsImF1dG9wbGF5IiwiZGVsYXkiLCJkaXNhYmxlT25JbnRlcmFjdGlvbiIsImJyZWFrcG9pbnRzIiwieW91dHViZSIsIiR3cmFwcGVyIiwiJHRodW1iSXRlbSIsIl90aGlzMSIsImdldFZpZGVvSWQiLCJwbGF5bGlzdCIsImVxIiwic3BsaXQiLCJjaGFuZ2VNb3ZpZGUiLCJsb2FkVmlkZW9CeUlkIiwic3dpdGNoVGh1bWIiLCJZb3V0dWJlX21vZGFsIiwibGVuZ3RoIiwiU3dpcGVyIiwiVXBkYXRlIiwicmVhbEluZGV4IiwiX3RlbXBsYXRlIiwiTU9EQUxfTU9EVUxFIiwiY3VzdG9tTW9kYWxIdG1sIiwiZGVmYXVsdE1vZGFsU3R5bGUiLCJiZWZvcmVPcGVuIiwic3RhdGUiLCJlbGVtIiwic3RvcCIsImFmdGVyQ2xvc2UiLCJhdHRhY2hFdmVudCIsIl90YXJnZXQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiX25vZGVzIiwiaSIsInB1c2giLCJjaGlsZE5vZGVzIiwiX2h0bWxMaXN0IiwiX2h0bWwiLCJub2RlVHlwZSIsIl90ZXh0IiwidGV4dENvbnRlbnQiLCJfYXJyYXkiLCJfaSIsIm91dGVySFRNTCIsImh0bWwiLCJnYXAiLCJlYXNpbmciLCJ1cmxIYXNoIiwibG9jYXRpb24iLCJoYXNoIiwiJF90YXJnZXQiLCIkX3RhcmdldFkiLCJhbmltYXRlIiwiU2Nyb2xsRWZmZWN0TW9kdWxlIiwiU0NST0xMX0VGRkVDVF9NT0RVTEUiLCJmaXJzdEVsZW0iLCJkaXNwbGF5UmF0aW8iLCJkaXNwbGF5UmV2ZXJzZSIsImFkZENsYXNzTmFtZUFjdGl2ZSIsIkluIiwiaXRlbSIsInBvcyIsIm9iaiIsImhhc0NsYXNzIl0sIm1hcHBpbmdzIjoiOztBQUFBO0FBQ0EsSUFBTUEsWUFBWSxHQUFHLEdBQXJCO0FBQ0EsSUFBTUMsR0FBRyxHQUFHQyxNQUFNLENBQUNDLFVBQVAsa0NBQTRDSCxZQUFZLEdBQUcsQ0FBM0QsU0FBWjtBQUNBQyxHQUFHLENBQUNHLFdBQUosQ0FBZ0JDLGdCQUFoQixFLENBRUE7O0FBQ0EsSUFBSUMsUUFBUSxHQUFHSixNQUFNLENBQUNLLFVBQXRCO0FBQ0EsSUFBSUMsU0FBUyxHQUFHTixNQUFNLENBQUNPLFdBQXZCO0FBQ0EsSUFBSUMsS0FBSjtBQUVBLElBQUlDLEtBQUssR0FBR0MsQ0FBQyxDQUFDLE1BQUQsQ0FBYjtBQUVBQSxDQUFDLENBQUMsWUFBWTtBQUNaQyxFQUFBQSxtQkFBbUI7QUFDcEIsQ0FGQSxDQUFEO0FBSUFELENBQUMsQ0FBQ1YsTUFBRCxDQUFELENBQVVZLEVBQVYsQ0FBYSxNQUFiLEVBQXFCLFlBQVk7QUFDL0JDLEVBQUFBLGFBQWE7QUFDZCxDQUZEO0FBSUFILENBQUMsQ0FBQ1YsTUFBRCxDQUFELENBQVVZLEVBQVYsQ0FBYSxhQUFiLEVBQTRCLFlBQVk7QUFDdENFLEVBQUFBLEdBQUcsQ0FBQ0MsTUFBSixDQUFXQyxHQUFYLEdBQWlCTixDQUFDLENBQUNWLE1BQUQsQ0FBRCxDQUFVaUIsU0FBVixFQUFqQjtBQUVBQyxFQUFBQSxRQUFRLENBQUNDLE1BQVQsQ0FBZ0JDLEtBQWhCLENBQXNCQyxJQUF0QixDQUEyQixVQUFTQyxLQUFULEVBQWdCQyxHQUFoQixFQUFxQjtBQUM5QyxRQUFJQyxLQUFL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QUFzQjtBQUN0QixRQUFJbUMsU0FBUyxHQUFHRCxRQUFRLENBQUN2SSxNQUFULEdBQWtCVCxHQUFsQixHQUF3QjJJLEdBQXhDO0FBQ0FqSixJQUFBQSxDQUFDLENBQUMsV0FBRCxDQUFELENBQWV3SixPQUFmLENBQXVCO0FBQUNqSixNQUFBQSxTQUFTLEVBQUVnSjtBQUFaLEtBQXZCLEVBQStDN0csUUFBL0MsRUFBeUR3RyxNQUF6RDtBQUNBLFdBQU8sS0FBUDtBQUNELEdBTkQ7QUFPRCxDLENBRUQ7OztBQUNBLElBQUlPLGtCQUFKOztBQUNBLFNBQVMvSCxlQUFULEdBQTJCO0FBQ3pCK0gsRUFBQUEsa0JBQWtCLEdBQUcsSUFBSUMsb0JBQUosQ0FBeUI7QUFDNUM1QixJQUFBQSxJQUFJLEVBQUUsWUFEc0M7QUFFNUM2QixJQUFBQSxTQUFTLEVBQUUsbUJBRmlDO0FBRzVDQyxJQUFBQSxZQUFZLEVBQUUsR0FIOEI7QUFJNUNDLElBQUFBLGNBQWMsRUFBRSxLQUo0QjtBQUs1Q0MsSUFBQUEsa0JBQWtCLEVBQUUsV0FMd0I7QUFNNUM1SixJQUFBQSxFQUFFLEVBQUU7QUFDRjZKLE1BQUFBLEVBQUUsRUFBRSxZQUFTQyxJQUFULEVBQWVDLEdBQWYsRUFBb0JDLEdBQXBCLEVBQXlCNUosR0FBekIsRUFBNkI7QUFDL0IsWUFBR04sQ0FBQyxDQUFDZ0ssSUFBRCxDQUFELENBQVFHLFFBQVIsQ0FBaUIsU0FBakIsS0FBK0J6RSxLQUFLLENBQUNDLFdBQU4sSUFBcUIsS0FBdkQsRUFBOEQ7QUFDNURELFVBQUFBLEtBQUssQ0FBQ3BFLElBQU47QUFDRDtBQUNGO0FBTEM7QUFOd0MsR0FBekIsQ0FBckI7QUFjRCxDLENBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzZXR0aW5nXG5jb25zdCBicmVha1BvaW50U3AgPSA4MDA7XG5jb25zdCBtcWwgPSB3aW5kb3cubWF0Y2hNZWRpYShgc2NyZWVuIGFuZCAobWluLXdpZHRoOiAke2JyZWFrUG9pbnRTcCArIDF9cHgpYCk7XG5tcWwuYWRkTGlzdGVuZXIoaGFuZGxlTWVkaWFRdWVyeSk7XG5cbi8vIOeUu+mdouOCteOCpOOCuuWPluW+l1xubGV0IHdpbldpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XG5sZXQgd2luSGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0O1xubGV0IHBjRmxnO1xuXG5sZXQgJGJvZHkgPSAkKCdib2R5Jyk7XG5cbiQoZnVuY3Rpb24gKCkge1xuICBkb21Db250ZW50TG9hZEV2ZW50KCk7XG59KTtcblxuJCh3aW5kb3cpLm9uKCdsb2FkJywgZnVuY3Rpb24gKCkge1xuICBpbml0TG9hZEV2ZW50KCk7XG59KTtcblxuJCh3aW5kb3cpLm9uKCdzY3JvbGwgbG9hZCcsIGZ1bmN0aW9uICgpIHtcbiAgV2luLnNjcm9sbC50b3AgPSAkKHdpbmRvdykuc2Nyb2xsVG9wKCk7XG5cbiAgUGFyYWxsYXguY29uZmlnLiRpdGVtLmVhY2goZnVuY3Rpb24oaW5kZXgsIHZhbCkge1xuICAgIGxldCBfZWxtSCA9ICQodmFsKS5vZmZzZXQoKS50b3A7XG4gICAgbGV0IF9kaWZmID0gKF9lbG1IIC1XaW4uc2Nyb2xsLnRvcCkgKiAwLjE7XG5cbiAgICBpZighcGNGbGcpIHtcbiAgICAgIF9kaWZmID0gKF9lbG1IIC1XaW4uc2Nyb2xsLnRvcCkgKiAwLjA1O1xuICAgIH1cblxuICAgIGlmKGluZGV4ICUgMiA9PT0gMCkge1xuICAgICAgX2RpZmYgPSAtKF9kaWZmKTtcbiAgICB9XG4gICAgJCh2YWwpLmNzcyh7XG4gICAgICAndHJhbnNmb3JtJzpgdHJhbnNsYXRlM2QoMCwgJHtfZGlmZn1weCwgMClgXG4gICAgfSk7XG4gIH0pO1xuXG59KTtcblxuJCh3aW5kb3cpLm9uKCdyZXNpemUnLCBmdW5jdGlvbiAoKSB7XG5cdGlmICh3aW5XaWR0aCAhPT0gd2luZG93LmlubmVyV2lkdGgpIHtcbiAgICAkKCcucC1oZXJvJykuY3NzKHsnaGVpZ2h0JzogYCR7aW5uZXJIZWlnaHR9cHhgfSk7XG5cdH1cbiAgQmcubW92aWUuc2V0V2lkdGgoKTtcbiAgdXBkYXRlU2l6ZSgpO1xufSk7XG5cbi8vIGh0bWzoqq3jgb/ovrzjgb/lrozkuoblvozjgavlrp/ooYxcbmZ1bmN0aW9uIGRvbUNvbnRlbnRMb2FkRXZlbnQoKSB7XG4gIGhhbmRsZU1lZGlhUXVlcnkobXFsKTtcbiAgJGJvZHkgPSAkKCdib2R5Jyk7XG4gIHVwZGF0ZVNpemUoKTtcbiAgQmcubW92aWUuaW5pdCgpO1xuICAkKCcucC1oZXJvJykuY3NzKHsnaGVpZ2h0JzogYCR7aW5uZXJIZWlnaHR9cHhgfSk7XG4gIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgJGJvZHkuYWRkQ2xhc3MoJ2lzLXJlYWR5Jyk7XG4gIH0sIDUwKTtcbn1cblxuLy8g5YWo44Gm44Gu44OV44Kh44Kk44Or6Kqt44G/6L6844G/5a6M5LqG5b6M44Gr5a6f6KGMXG5mdW5jdGlvbiBpbml0TG9hZEV2ZW50KCkge1xuICBzbW9vdGhTY3JvbGwoMCwgNjUwLCAnZWFzZU91dEN1YmljJyk7XG4gIHNldFNjcm9sbEVmZmVjdCgpO1xuICB0ZXh0U3BsaXQoJy5qcy1zcGxpdCcpO1xuICAkYm9keS5hZGRDbGFzcygnaXMtbG9hZCcpO1xufVxuXG5mdW5jdGlvbiB1cGRhdGVTaXplKCkge1xuXHR3aW5XaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICB3aW5IZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG59XG5cbi8vIOODoeODh+OCo+OCouOCr+OCqOODquOBq+W/nOOBmOOBpuWun+ihjOOBl+OBn+OBhOWHpueQhlxuZnVuY3Rpb24gaGFuZGxlTWVkaWFRdWVyeShtcWwpIHtcblx0aWYobXFsLm1hdGNoZXMpIHtcbiAgICBwY0ZsZyA9IHRydWU7XG4gICAgU3BlY2lhbC5jb25maWcuJGNvdmVyLm9uKHtcbiAgICAgICdtb3VzZWVudGVyJzogZnVuY3Rpb24gKCkge1xuICAgICAgICAkKHRoaXMpLnBhcmVudHMoJy5wLXNwZWNpYWxfX2xpc3QtaXRlbScpLmFkZENsYXNzKCdpcy1saW5rLW9wZW4nKTtcbiAgICAgIH0sXG4gICAgICAnbW91c2VsZWF2ZSc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgJCh0aGlzKS5wYXJlbnRzKCcucC1zcGVjaWFsX19saXN0LWl0ZW0nKS5yZW1vdmVDbGFzcygnaXMtbGluay1vcGVuJyk7XG4gICAgICB9XG4gICAgfSk7XG5cdH0gZWxzZSB7XG4gICAgcGNGbGcgPSBmYWxzZTtcblxuICAgIFNwZWNpYWwuY29uZmlnLiR0aHVtYi5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICAgICQodGhpcykucGFyZW50cygnLnAtc3BlY2lhbF9fbGlzdC1pdGVtJykuYWRkQ2xhc3MoJ2lzLWxpbmstb3BlbicpO1xuICAgIH0pO1xuXG4gICAgU3BlY2lhbC5jb25maWcuJGNsb3NlLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgICAgJCh0aGlzKS5wYXJlbnRzKCcucC1zcGVjaWFsX19saXN0LWl0ZW0nKS5yZW1vdmVDbGFzcygnaXMtbGluay1vcGVuJyk7XG4gICAgfSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0UmFuZG9tSW50KG1pbiwgbWF4KSB7XG4gIHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluKSArIG1pbik7XG59XG5cbmxldCBXaW4gPSB7XG4gIHNjcm9sbDoge1xuICAgIHRvcDogbnVsbFxuICB9XG59O1xuXG5sZXQgUGFyYWxsYXggPSB7XG4gIGNvbmZpZzoge1xuICAgICRpdGVtOiAkKCcuanMtcGFyYWxsYXgnKVxuICB9XG59O1xuXG5sZXQgT3AgPSB7XG4gIGR1cmF0aW9uOiA1NjAwLFxuICBjb25maWc6IHtcbiAgICAkZWxtOiAkKCcucC1vcCcpLFxuICB9LFxuICBzY3JvbGxUb3A6IGZ1bmN0aW9uKCkge1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgLy8gQmcubW92aWUucGxheWVyLnNlZWtUbygyMjkuNSwgdHJ1ZSk7XG4gICAgICBzY3JvbGxUbygwLCAwKTtcbiAgICAgICRib2R5LmNzcygnb3ZlcmZsb3cnLCAnaGlkZGVuJyk7XG4gICAgfSwgMzEwMCk7XG4gIH0sXG4gIGVuZDogZnVuY3Rpb24oKSB7XG4gICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICRib2R5LmFkZENsYXNzKCdvcC1lbmQnKTtcbiAgICB9LCBPcC5kdXJhdGlvbik7XG4gIH1cbn07XG5cbmxldCBCZyA9IHtcbiAgbW92aWU6IHtcbiAgICBwbGF5ZXI6IHVuZGVmaW5lZCxcbiAgICBjdXJyZW50OiBudWxsLFxuICAgIHRpbWVyOiB1bmRlZmluZWQsXG4gICAgY29uZmlnOiB7XG4gICAgICB2aWRlb2lkOiAnSlBIUEE5SVpNYk0nLFxuICAgICAgc3RhcnRfc2VjOiAyMDMsXG4gICAgICBlbmRfc2VjOiAyNzRcbiAgICB9LFxuICAgIGluaXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgbGV0IF90aGlzID0gdGhpcztcblxuICAgICAgX3RoaXMuc2V0V2lkdGgoKTtcblxuICAgICAgLy8gMi4gVGhpcyBjb2RlIGxvYWRzIHRoZSBJRnJhbWUgUGxheWVyIEFQSSBjb2RlIGFzeW5jaHJvbm91c2x5LlxuICAgICAgbGV0IHRhZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xuICAgICAgdGFnLnNyYyA9ICdodHRwczovL3d3dy55b3V0dWJlLmNvbS9pZnJhbWVfYXBpJztcbiAgICAgIGxldCBmaXJzdFNjcmlwdFRhZyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzY3JpcHQnKVswXTtcbiAgICAgIGZpcnN0U2NyaXB0VGFnLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHRhZywgZmlyc3RTY3JpcHRUYWcpO1xuXG4gICAgICB3aW5kb3cub25Zb3VUdWJlSWZyYW1lQVBJUmVhZHkgPSAoKSA9PiB7XG4gICAgICAgIF90aGlzLnBsYXllciA9IG5ldyBZVC5QbGF5ZXIoJ2hlcm9fcGxheWVyJywge1xuICAgICAgICAgIHZpZGVvSWQ6IF90aGlzLmNvbmZpZy52aWRlb2lkLFxuICAgICAgICAgIHBsYXllclZhcnM6IHtcbiAgICAgICAgICAgIHBsYXlzaW5saW5lOiAxLFxuICAgICAgICAgICAgY29udHJvbHM6IDAsXG4gICAgICAgICAgICBkaXNhYmxla2I6IDEsXG4gICAgICAgICAgICBlbmFibGVqc2FwaTogMSxcbiAgICAgICAgICAgIGl2X2xvYWRfcG9saWN5OiAzLFxuICAgICAgICAgICAgcmVsOiAwLFxuICAgICAgICAgICAgc3RhcnQ6IDIyNlxuICAgICAgICAgIH0sXG4gICAgICAgICAgZXZlbnRzOiB7XG4gICAgICAgICAgICAnb25SZWFkeSc6IF90aGlzLm9uUGxheWVyUmVhZHksXG4gICAgICAgICAgICAnb25TdGF0ZUNoYW5nZSc6IF90aGlzLm9uUGxheWVyU3RhdGVDaGFuZ2VcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfTtcbiAgICB9LFxuICAgIG9uUGxheWVyUmVhZHk6IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAkYm9keS5hZGRDbGFzcygnaXMtbW92aWUtcmVhZHknKTtcbiAgICAgICAgT3Auc2Nyb2xsVG9wKCk7XG4gICAgICAgIE9wLmVuZCgpO1xuICAgICAgfSwgNzApO1xuICAgICAgZXZlbnQudGFyZ2V0Lm11dGUoKTtcbiAgICAgIGV2ZW50LnRhcmdldC5wbGF5VmlkZW8oKTtcbiAgICB9LFxuICAgIG9uUGxheWVyU3RhdGVDaGFuZ2U6IGZ1bmN0aW9uKGUpIHtcbiAgICAgIGlmIChlLmRhdGEgPT09IFlULlBsYXllclN0YXRlLlBMQVlJTkcpIHtcbiAgICAgICAgLy8gY29uc29sZS5sb2coXCItLeWGjeeUn+S4rS0tXCIpO1xuICAgICAgICBCZy5tb3ZpZS5zZXRUaW1lcigpO1xuICAgICAgfVxuICAgIH0sXG4gICAgc2V0V2lkdGg6IGZ1bmN0aW9uKCkge1xuICAgICAgaWYoaW5uZXJIZWlnaHQgLyBpbm5lcldpZHRoID4gOSAvIDE2KSB7XG4gICAgICAgICQoJyNoZXJvX3BsYXllcicpLndpZHRoKGAke2lubmVySGVpZ2h0ICogKDE2IC8gOSl9YCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAkKCcjaGVyb19wbGF5ZXInKS53aWR0aCgnMTAwJScpO1xuICAgICAgfVxuICAgIH0sXG4gICAgZ2V0Q3VycmVudFRpbWU6IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5jdXJyZW50ID0gTWF0aC5mbG9vcihCZy5tb3ZpZS5wbGF5ZXIuZ2V0Q3VycmVudFRpbWUoKSk7XG5cbiAgICAgIGlmKHRoaXMuY3VycmVudCA+PSBCZy5tb3ZpZS5jb25maWcuZW5kX3NlYykge1xuICAgICAgICBCZy5tb3ZpZS5wbGF5ZXIuc2Vla1RvKEJnLm1vdmllLmNvbmZpZy5zdGFydF9zZWMsIHRydWUpO1xuICAgICAgfVxuICAgIH0sXG4gICAgc2V0VGltZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgbGV0IF90aGlzID0gdGhpcztcbiAgICAgIF90aGlzLnRpbWVyID0gc2V0SW50ZXJ2YWwoX3RoaXMuZ2V0Q3VycmVudFRpbWUsIDEwMDApO1xuICAgIH1cbiAgfSxcbn07XG5cbmxldCBNb3ZpZSA9IHtcbiAgaW5pdGlhbGl6ZWQ6IGZhbHNlLFxuICBpbnN0YW5jZTogdW5kZWZpbmVkLFxuICBhY3RpdmVJbmRleDogMCwgLy8gc3dpcGVy6LW35YuV44GX44Gq44GL44Gj44Gf5aC05ZCI44KC5YCk44KS44Go44KM44KL44KI44GG44GrXG4gIG9wdGlvbnM6IHtcbiAgICBzcGVlZDogODAwLFxuICAgIGxvb3A6IHRydWUsXG4gICAgbG9vcEFkZGl0aW9uYWxTbGlkZXM6IDMsXG4gICAgc3BhY2VCZXR3ZWVuOiA3OCxcbiAgICBzbGlkZVRvQ2xpY2tlZFNsaWRlOiB0cnVlLFxuICAgIGF1dG9wbGF5OiB7XG4gICAgICBkZWxheTogNTAwMCxcbiAgICAgIGRpc2FibGVPbkludGVyYWN0aW9uOiBmYWxzZVxuICAgIH0sXG4gICAgYnJlYWtwb2ludHM6IHtcbiAgICAgIDgwMDoge1xuICAgICAgICBzcGFjZUJldHdlZW46IDIwXG4gICAgICB9LFxuICAgIH0sXG4gIH0sXG4gIHlvdXR1YmU6IHtcbiAgICBwbGF5ZXI6IHVuZGVmaW5lZCxcbiAgICB2aWRlb2lkOiB1bmRlZmluZWQsXG4gICAgY29uZmlnOiB7XG4gICAgICAkd3JhcHBlcjogJCgnLnAtbW92aWVfX2lubmVyJyksXG4gICAgICAkaXRlbTogJCgnLnAtbW92aWVfX3NsaWRlLWl0ZW0nKSxcbiAgICAgICR0aHVtYkl0ZW06ICQoJy5wLW1vdmllX19iZy10aHVtYiAucC1pbi1pdGVtJyksXG4gICAgfSxcbiAgICBpbml0OiBmdW5jdGlvbigpIHtcbiAgICAgIGxldCBfdGhpczEgPSB0aGlzO1xuICAgICAgX3RoaXMxLmdldFZpZGVvSWQoKTtcbiAgICAgIFxuICAgICAgX3RoaXMxLnBsYXllciA9IG5ldyBZVC5QbGF5ZXIoJ21vdmllX3BsYXllcicsIHtcbiAgICAgICAgdmlkZW9JZDogX3RoaXMxLnZpZGVvaWQsXG4gICAgICAgIHBsYXllclZhcnM6IHtcbiAgICAgICAgICBwbGF5c2lubGluZTogMSxcbiAgICAgICAgICBhdXRvcGxheTogMSxcbiAgICAgICAgICBsb29wOiAxLFxuICAgICAgICAgIHBsYXlsaXN0OiBfdGhpczEudmlkZW9pZCxcbiAgICAgICAgICBjb250cm9sczogMCxcbiAgICAgICAgICBkaXNhYmxla2I6IDEsXG4gICAgICAgICAgZW5hYmxlanNhcGk6IDEsXG4gICAgICAgICAgaXZfbG9hZF9wb2xpY3k6IDMsXG4gICAgICAgICAgcmVsOiAwLFxuICAgICAgICAgIHN0YXJ0OiAxMFxuICAgICAgICB9LFxuICAgICAgICBldmVudHM6IHtcbiAgICAgICAgICAnb25SZWFkeSc6IF90aGlzMS5vblBsYXllclJlYWR5LFxuICAgICAgICAgICdvblN0YXRlQ2hhbmdlJzogX3RoaXMxLm9uUGxheWVyU3RhdGVDaGFuZ2VcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSxcbiAgICBvblBsYXllclJlYWR5OiBmdW5jdGlvbihldmVudCkge1xuICAgICAgZXZlbnQudGFyZ2V0Lm11dGUoKTtcbiAgICAgIGV2ZW50LnRhcmdldC5wbGF5VmlkZW8oKTtcbiAgICB9LFxuICAgIG9uUGxheWVyU3RhdGVDaGFuZ2U6IGZ1bmN0aW9uKGUpIHtcbiAgICAgIGlmKGUuZGF0YSA9PT0gMSkge1xuICAgICAgICBNb3ZpZS55b3V0dWJlLmNvbmZpZy4kd3JhcHBlci5hZGRDbGFzcygnaXMtbW92aWUtcGxheWluZycpO1xuICAgICAgfSBlbHNlIGlmKGUuZGF0YSA9PT0gMikge1xuICAgICAgICBNb3ZpZS55b3V0dWJlLmNvbmZpZy4kd3JhcHBlci5yZW1vdmVDbGFzcygnaXMtbW92aWUtcGxheWluZycpO1xuICAgICAgfVxuICAgIH0sXG4gICAgZ2V0VmlkZW9JZDogZnVuY3Rpb24oKSB7XG4gICAgICBsZXQgX3RoaXMxID0gdGhpcztcbiAgICAgIF90aGlzMS52aWRlb2lkID0gX3RoaXMxLmNvbmZpZy4kaXRlbS5lcShNb3ZpZS5hY3RpdmVJbmRleCkuZGF0YSgnbW9kYWwnKS5zcGxpdCgneW91dHViZTonKVsxXTtcbiAgICB9LFxuICAgIGNoYW5nZU1vdmlkZTogZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLmdldFZpZGVvSWQoKTtcbiAgICAgIHRoaXMucGxheWVyLmxvYWRWaWRlb0J5SWQodGhpcy52aWRlb2lkLCAxMCk7XG4gICAgfSxcbiAgICBzd2l0Y2hUaHVtYjogZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLmNvbmZpZy4kdGh1bWJJdGVtLnJlbW92ZUNsYXNzKCdpcy1zaG93JykuZXEoTW92aWUuYWN0aXZlSW5kZXgpLmFkZENsYXNzKCdpcy1zaG93Jyk7XG4gICAgfVxuICB9LFxuICBpbml0OiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmluaXRpYWxpemVkID0gdHJ1ZTtcblxuICAgIFlvdXR1YmVfbW9kYWwuaW5pdCgpO1xuXG4gICAgaWYodGhpcy55b3V0dWJlLmNvbmZpZy4kaXRlbS5sZW5ndGggPiAxKSB7XG4gICAgICB0aGlzLmluc3RhbmNlID0gbmV3IFN3aXBlcignLnAtbW92aWVfX3NsaWRlLWNvbnRhaW5lcicsIE1vdmllLm9wdGlvbnMpO1xuICBcbiAgICAgIHRoaXMuaW5zdGFuY2Uub24oJ3NsaWRlQ2hhbmdlJywgZnVuY3Rpb24gKCkge1xuICAgICAgICBZb3V0dWJlX21vZGFsLmluc3RhbmNlLlVwZGF0ZSgpO1xuICAgICAgICBNb3ZpZS5hY3RpdmVJbmRleCA9IE1vdmllLmluc3RhbmNlLnJlYWxJbmRleDtcbiAgICAgICAgTW92aWUueW91dHViZS5jaGFuZ2VNb3ZpZGUoKTtcbiAgICAgICAgTW92aWUueW91dHViZS5zd2l0Y2hUaHVtYigpO1xuICAgICAgfSk7XG5cbiAgICAgIHRoaXMueW91dHViZS5jb25maWcuJHdyYXBwZXIuYWRkQ2xhc3MoJ3N3aXBlci1pbml0aWFsaXplZCcpO1xuICAgIH1cblxuICAgIE1vdmllLnlvdXR1YmUuaW5pdCgpO1xuICAgIE1vdmllLnlvdXR1YmUuc3dpdGNoVGh1bWIoKTtcbiAgfVxufTtcblxubGV0IFlvdXR1YmVfbW9kYWwgPSB7XG4gIGluc3RhbmNlOiB1bmRlZmluZWQsXG4gIF90ZW1wbGF0ZSA6ICcnICtcbiAgJzxzZWN0aW9uIGNsYXNzPVwibS1tb2RhbFwiIGlkPVwie3sgaWQgfX1cIiBkYXRhLW1vZGFsLXR5cGU+JyArXG4gICcgIDxkaXYgY2xhc3M9XCJtLW1vZGFsX19iZ1wiIGRhdGEtbW9kYWwtdWktY2xvc2U+PC9kaXY+JyArXG4gICcgIDxkaXYgY2xhc3M9XCJtLW1vZGFsX19jb250ZW50XCI+JyArXG4nICAgICAgICAgIHt7IGNvbnRlbnQgfX0nICtcbicgIDwvZGl2PicgK1xuJyAgPGRpdiBjbGFzcz1cIm0tbW9kYWxfX2Nsb3NlLWJ0blwiIGRhdGEtbW9kYWwtdWktY2xvc2U9XCJcIiByb2xlPVwiYnV0dG9uXCI+PC9kaXY+JyArXG4gICc8L3NlY3Rpb24+JyxcbiAgaW5pdDogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5pbnN0YW5jZSA9IG5ldyBNT0RBTF9NT0RVTEUoe1xuICAgICAgY3VzdG9tTW9kYWxIdG1sOiBZb3V0dWJlX21vZGFsLl90ZW1wbGF0ZSxcbiAgICAgIGRlZmF1bHRNb2RhbFN0eWxlOiB0cnVlLFxuICAgICAgb246IHtcbiAgICAgICAgYmVmb3JlT3BlbiAgOiBmdW5jdGlvbihkYXRhLCB0YXJnZXQsIHN0YXRlLCBlbGVtKXtcbiAgICAgICAgICBpZihNb3ZpZS5pbnN0YW5jZSkge1xuICAgICAgICAgICAgTW92aWUuaW5zdGFuY2UuYXV0b3BsYXkuc3RvcCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgYWZ0ZXJDbG9zZSAgOiBmdW5jdGlvbigpe1xuICAgICAgICAgIGlmKE1vdmllLmluc3RhbmNlKSB7XG4gICAgICAgICAgICBNb3ZpZS5pbnN0YW5jZS5hdXRvcGxheS5zdGFydCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59O1xuXG5sZXQgU3BlY2lhbCA9IHtcbiAgY29uZmlnOiB7XG4gICAgJGNvdmVyOiAkKCcucC1zcGVjaWFsX19saXN0LWNvdmVyJyksXG4gICAgJHRodW1iOiAkKCcucC1zcGVjaWFsX19saXN0LWNvdmVyIGZpZ3VyZScpLFxuICAgICRjbG9zZTogJCgnLnAtc3BlY2lhbF9fbGlzdC1jbG9zZScpXG4gIH0sXG4gIGF0dGFjaEV2ZW50OiBmdW5jdGlvbigpIHtcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xuXG4gICAgaWYocGNGbGcpIHtcbiAgICAgIF90aGlzLmNvbmZpZy4kY292ZXIub24oe1xuICAgICAgICAnbW91c2VlbnRlcic6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAkKHRoaXMpLnBhcmVudHMoJy5wLXNwZWNpYWxfX2xpc3QtaXRlbScpLmFkZENsYXNzKCdpcy1saW5rLW9wZW4nKTtcbiAgICAgICAgfSxcbiAgICAgICAgJ21vdXNlbGVhdmUnOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgJCh0aGlzKS5wYXJlbnRzKCcucC1zcGVjaWFsX19saXN0LWl0ZW0nKS5yZW1vdmVDbGFzcygnaXMtbGluay1vcGVuJyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBfdGhpcy5jb25maWcuJHRodW1iLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAkKHRoaXMpLnBhcmVudHMoJy5wLXNwZWNpYWxfX2xpc3QtaXRlbScpLmFkZENsYXNzKCdpcy1saW5rLW9wZW4nKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIF90aGlzLmNvbmZpZy4kY2xvc2Uub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgICAkKHRoaXMpLnBhcmVudHMoJy5wLXNwZWNpYWxfX2xpc3QtaXRlbScpLnJlbW92ZUNsYXNzKCdpcy1saW5rLW9wZW4nKTtcbiAgICB9KTtcbiAgfVxufTtcblxuLy8gdGV4dCBzcGxpdFxuZnVuY3Rpb24gdGV4dFNwbGl0KHRhcmdldCkge1xuICBsZXQgX3RhcmdldCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGFyZ2V0KTtcbiAgbGV0IF9ub2RlcyA9IFtdO1xuICBcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBfdGFyZ2V0Lmxlbmd0aDsgaSsrKSB7XG4gICAgX25vZGVzLnB1c2goX3RhcmdldFtpXS5jaGlsZE5vZGVzKTtcbiAgfVxuXG4gIGxldCBfaHRtbExpc3QgPSBbXTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBfbm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICBsZXQgX2h0bWwgPSBbXTtcbiAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgX25vZGVzW2ldLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgaWYoX25vZGVzW2ldW2luZGV4XS5ub2RlVHlwZSA9PT0gMykge1xuICAgICAgICBsZXQgX3RleHQgPSBfbm9kZXNbaV1baW5kZXhdLnRleHRDb250ZW50O1xuICAgICAgICBsZXQgX2FycmF5ID0gX3RleHQuc3BsaXQoJycpO1xuICAgICAgICBmb3IgKGxldCBfaSA9IDA7IF9pIDwgX2FycmF5Lmxlbmd0aDsgX2krKykge1xuICAgICAgICAgIF9odG1sLnB1c2goJzxzcGFuPicgKyBfYXJyYXlbX2ldICsgJzwvc3Bhbj4nKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgX2h0bWwucHVzaChfbm9kZXNbaV1baW5kZXhdLm91dGVySFRNTCk7XG4gICAgICB9XG4gICAgfVxuICAgIF9odG1sTGlzdC5wdXNoKF9odG1sKTtcbiAgfVxuXG4gICQodGFyZ2V0KS5lYWNoKGZ1bmN0aW9uKGluZGV4LCB2YWwpIHtcbiAgICAkKHRoaXMpLmh0bWwoX2h0bWxMaXN0W2luZGV4XSk7XG4gIH0pO1xufVxuXG4vLyDjgrnjg6Djg7zjgrnjgrnjgq/jg63jg7zjg6tcbmZ1bmN0aW9uIHNtb290aFNjcm9sbChnYXAsIGR1cmF0aW9uLCBlYXNpbmcpIHtcbiAgbGV0IHVybEhhc2ggPSBsb2NhdGlvbi5oYXNoO1xuICBpZih1cmxIYXNoKSB7XG4gICAgJCgnYm9keSxodG1sJykuc3RvcCgpLnNjcm9sbFRvcCgwKTtcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICBsZXQgJF90YXJnZXQgPSAkKHVybEhhc2gpO1xuICAgICAgbGV0ICRfdGFyZ2V0WSA9ICRfdGFyZ2V0Lm9mZnNldCgpLnRvcCAtIGdhcDtcbiAgICAgICQoJ2JvZHksaHRtbCcpLnN0b3AoKS5hbmltYXRlKHtzY3JvbGxUb3A6JF90YXJnZXRZfSwgZHVyYXRpb24sIGVhc2luZyk7XG4gICAgfSwgNTApO1xuICB9XG5cbiAgJCgnYVtocmVmKj1cIiNcIl0nKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgbGV0ICRfdGFyZ2V0ID0gJCh0aGlzLmhhc2gpO1xuICAgIGlmKCEgJF90YXJnZXQubGVuZ3RoKSByZXR1cm47XG4gICAgbGV0ICRfdGFyZ2V0WSA9ICRfdGFyZ2V0Lm9mZnNldCgpLnRvcCAtIGdhcDtcbiAgICAkKCdodG1sLGJvZHknKS5hbmltYXRlKHtzY3JvbGxUb3A6ICRfdGFyZ2V0WX0sIGR1cmF0aW9uLCBlYXNpbmcpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfSk7XG59XG5cbi8vIOOCueOCr+ODreODvOODq+a8lOWHulxubGV0IFNjcm9sbEVmZmVjdE1vZHVsZTtcbmZ1bmN0aW9uIHNldFNjcm9sbEVmZmVjdCgpIHtcbiAgU2Nyb2xsRWZmZWN0TW9kdWxlID0gbmV3IFNDUk9MTF9FRkZFQ1RfTU9EVUxFKHtcbiAgICBlbGVtOiAnLmpzLXNjcm9sbCcsXG4gICAgZmlyc3RFbGVtOiAnLmpzLXNjcm9sbC0tZmlyc3QnLFxuICAgIGRpc3BsYXlSYXRpbzogMC44LFxuICAgIGRpc3BsYXlSZXZlcnNlOiBmYWxzZSxcbiAgICBhZGRDbGFzc05hbWVBY3RpdmU6ICdpcy1hY3RpdmUnLFxuICAgIG9uOiB7XG4gICAgICBJbjogZnVuY3Rpb24oaXRlbSwgcG9zLCBvYmosIHRvcCl7XG4gICAgICAgIGlmKCQoaXRlbSkuaGFzQ2xhc3MoJ3AtdHJhY2snKSAmJiBNb3ZpZS5pbml0aWFsaXplZCA9PSBmYWxzZSkge1xuICAgICAgICAgIE1vdmllLmluaXQoKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICB9XG4gIH0pO1xufVxuXG4vLyBsZXQgZm9vdGVyU2Nyb2xsRWZmZWM7XG4vLyBmdW5jdGlvbiBzZXRGb290ZXJTY3JvbGxFZmZlY3QoKSB7XG4vLyAgIGZvb3RlclNjcm9sbEVmZmVjID0gbmV3IFNDUk9MTF9FRkZFQ1RfTU9EVUxFKHtcbi8vICAgICBlbGVtOiAnLmpzLXNjcm9sbC1mb290ZXInLFxuLy8gICAgIGZpcnN0RWxlbTogJy5qcy1zY3JvbGwtLWZpcnN0Jyxcbi8vICAgICBkaXNwbGF5UmF0aW86IDAuOTksXG4vLyAgICAgZGlzcGxheVJldmVyc2U6IHRydWUsXG4vLyAgICAgYWRkQ2xhc3NOYW1lQWN0aXZlOiAnaXMtYWN0aXZlJyxcbi8vICAgfSk7XG4vLyB9Il0sImZpbGUiOiJhc3NldHMvanMvbWFwcG91ZG9rdXN5b3UuanMifQ==